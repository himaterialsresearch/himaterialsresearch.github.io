<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Research – HIMaR</title>
  <script src="https://3dmol.org/build/3Dmol-min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      background-color: #f9f9f9;
      color: #333;
    }

    header {
      background: url("banner4a.jpg") no-repeat center center;
      background-size: cover;
      color: white;
      display: flex;
      align-items: center;
      padding: 30px 40px;
      min-height: 220px;
      position: relative;
    }

    .logo {
      height: 100px;
      margin-right: 20px;
    }

    .header-text h1 {
      margin: 0;
      font-size: 2em;
    }

    .header-text p {
      margin: 5px 0 0;
      font-size: 1.1em;
    }

    nav {
      background-color: #0059b3;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }

    nav a {
      padding: 14px 20px;
      text-decoration: none;
      color: white;
      font-weight: bold;
    }

    nav a:hover {
      background-color: #004080;
    }

    main {
      max-width: 1000px;
      margin: auto;
      padding: 40px;
      background-color: white;
    }

    .research-intro-container {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
      align-items: flex-start;
    }

    .research-text {
      flex: 1 1 60%;
      min-width: 280px;
    }

    .slideshow-container-inline {
      flex: 1 1 35%;
      max-width: 350px;
      min-width: 260px;
      position: relative;
    }

    .slideshow-container-inline .slide {
      display: none;
      width: 100%;
      aspect-ratio: 1 / 1;
      border-radius: 10px;
      overflow: hidden;
    }

    .slideshow-container-inline .slide.active {
      display: block;
    }

    .slide img.slide-image,
    .slide-placeholder {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .slide1 { background-color: #3498db; }
    .slide2 { background-color: #2ecc71; }
    .slide3 { background-color: #e67e22; }

    .dots-container {
      text-align: center;
      margin-top: 10px;
    }

    .dot {
      height: 14px;
      width: 14px;
      margin: 0 5px;
      background-color: #bbb;
      border-radius: 50%;
      display: inline-block;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .dot.active {
      background-color: #003366;
    }

    .research-text h2 {
      color: #003366;
      font-size: 1.8em;
      margin-top: 0;
    }

    .research-text p {
      font-size: 1.1em;
      line-height: 1.6;
    }

    .themes-flex {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      align-items: flex-start;
      margin-top: 40px;
    }

    .themes {
      flex: 1 1 50%;
      min-width: 300px;
    }

    .themes h3 {
      font-size: 1.5em;
      color: #003366;
    }

    .themes ul {
      list-style: disc;
      padding-left: 20px;
      font-size: 1.1em;
    }

	.viewer-container {
	flex: 1 1 45%;
	min-width: 300px;
	}

	#viewer {
	width: 100%;
	height: 400px;
	border: 1px solid #ccc;
	border-radius: 10px;
	box-sizing: border-box;
	}

    .viewer-controls {
      margin-top: 10px;
      font-size: 0.95em;
    }

    .viewer-controls label {
      margin-right: 10px;
    }

    footer {
      text-align: center;
      font-size: 0.9em;
      color: #777;
      padding: 20px;
      background-color: #f0f0f0;
      margin-top: 60px;
    }
  </style>
</head>
<body>

  <header>
    <img src="HIMaRlogo.png" alt="HIMaR Logo" class="logo">
    <div class="header-text">
      <h1>HIMaR</h1>
      <p>Hawaii Institute of Materials Research</p>
    </div>
  </header>

  <nav>
    <a href="index.html">Home</a>
    <a href="people.html">People</a>
    <a href="research.html">Research</a>
    <a href="facilities.html">Facilities</a>
    <a href="outreach.html">Outreach</a>
    <a href="contact.html">Contact</a>
  </nav>

  <main>
    <section class="research-intro-container">
      <div class="slideshow-container-inline">
        <div class="slide active">
          <div class="slide-placeholder slide1"></div>
        </div>
        <div class="slide">
          <img src="catalyst.webp" alt="Catalyst Image" class="slide-image" />
        </div>
        <div class="slide">
          <div class="slide-placeholder slide3"></div>
        </div>
        <div class="dots-container">
          <span class="dot active" onclick="currentSlide(0)"></span>
          <span class="dot" onclick="currentSlide(1)"></span>
          <span class="dot" onclick="currentSlide(2)"></span>
        </div>
      </div>

      <div class="research-text">
        <h2>Research at HIMaR</h2>
        <p>
          HIMaR conducts advanced materials research focused on addressing critical challenges in sustainability, environmental remediation, energy conversion, and defense applications. Our interdisciplinary projects bring together expertise in chemistry, physics, engineering, and data science to develop next-generation materials and technologies.
        </p>
      </div>
    </section>

    <section class="themes-flex">
      <div class="themes">
        <h3>Key Research Themes</h3>
        <ul>
          <li>Environmental Catalysts</li>
          <li>Environmental Sorbents</li>
          <li>Sensors</li>
          <li>Nanosystem Integration</li>
          <li>Defect Diagnostics</li>
        </ul>
      </div>

      <div class="viewer-container">
        <div id="viewer"></div>
        <div class="viewer-controls">
          <label for="style-menu">Display Style:</label>
          <select id="style-menu">
            <option value="default">Stick + Sphere</option>
            <option value="stick">Stick Only</option>
            <option value="sphere">Sphere Only</option>
            <option value="line">Wireframe</option>
          </select>

          <label for="bg-menu" style="margin-left: 20px;">Background:</label>
          <select id="bg-menu">
            <option value="white">White</option>
            <option value="black">Black</option>
            <option value="lightgrey">Light Grey</option>
            <option value="transparent">Transparent</option>
          </select>
        </div>
      </div>
    </section>
  </main>

  <footer>
    &copy; 2025 HIMaR – Hawaii Institute of Materials Research
  </footer>

<script>
  let slideIndex = 0;
  const slides = document.querySelectorAll('.slide');
  const dots = document.querySelectorAll('.dot');

  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active', i === index);
      dots[i].classList.toggle('active', i === index);
    });
    slideIndex = index;
  }

  function currentSlide(n) {
    showSlide(n);
  }

  function autoAdvance() {
    slideIndex = (slideIndex + 1) % slides.length;
    showSlide(slideIndex);
  }

  setInterval(autoAdvance, 4000);

  // DOM-ready viewer init
  window.addEventListener('DOMContentLoaded', () => {
    const viewer = $3Dmol.createViewer("viewer", { backgroundColor: "white" });

    fetch('3dmol/SIQMAK.cif')
      .then(response => response.text())
      .then(data => {
        viewer.addModel(data, "cif");
        viewer.setStyle({}, { stick: {}, sphere: { radius: 0.4 } });
        viewer.zoomTo();
        viewer.render();

        document.getElementById("style-menu").addEventListener("change", (e) => {
          const style = e.target.value;
          const styles = {
            stick: { stick: {} },
            sphere: { sphere: { radius: 0.4 } },
            line: { line: {} },
            default: { stick: {}, sphere: { radius: 0.4 } }
          };
          viewer.setStyle({}, styles[style] || styles.default);
          viewer.render();
        });

        document.getElementById("bg-menu").addEventListener("change", (e) => {
          viewer.setBackgroundColor(e.target.value);
          viewer.render();
        });
      });
  });
</script>

</body>
</html>
